import{_ as j}from"./D_Uxx5I7.js";import{_ as I}from"./DV60Uvus.js";import{I as S,P as A,d as o,aP as T,w as V,g as s,f as _,bB as U,t as d,r as g,J as z,L as D,M,K as v,c as i,e as y,O as a,n as b,V as O,F as $,ay as C,bw as P}from"./BcZ__CrF.js";import{r as k}from"./Bq11E7Yv.js";import{u as W}from"./BFYV7eFx.js";import{c as E}from"./DEGU9y0_.js";import"./DlAUqK2U.js";import"./BqbvnEMi.js";import"./iik6CYzq.js";import"./BtDYLGjN.js";import"./jtUxMZjS.js";const F={class:"overflow-hidden rounded-md border border-white/10 shadow-md shadow-zinc-950/50 transition-colors duration-200 hover:border-white/20"},G={class:"flex flex-col"},J={class:"text-lg font-semibold"},K={class:"text-xs text-muted"},R=S({__name:"ArticleCard",props:{title:{type:String,required:!0},date:{type:String,required:!0},image:{type:String,required:!0},path:{type:String,required:!0}},setup(l){return(u,h)=>{const n=U,c=T;return o(),A(c,{to:l.path,"aria-label":l.title,class:"flex cursor-pointer flex-col gap-2"},{default:V(()=>[s("div",F,[_(n,{width:"1536",alt:`${l.title} article image`,class:"h-64 w-full object-cover transition-transform duration-200 hover:scale-105",src:l.image,"aria-label":`${l.title} article image`},null,8,["alt","src","aria-label"])]),s("div",G,[s("h3",J,d(l.title),1),s("span",K,d(l.date),1)])]),_:1},8,["to","aria-label"])}}}),H=Object.assign(R,{__name:"ArticleCard"}),Q={class:"mx-auto mt-4 flex max-w-4xl flex-col p-7 sm:mt-20"},X={class:"font-newsreader italic text-white-shadow text-center text-4xl"},Y={class:"text-center text-lg font-extralight italic text-muted"},Z={key:0,class:"mb-4 flex flex-col gap-2"},tt={class:"my-4"},et={key:0,class:"mb-4 flex flex-wrap gap-2"},st=["onClick"],at={class:"font-extralight"},ot={key:2,class:"flex h-64 flex-col items-center justify-center gap-2"},nt={class:"text-2xl"},lt={class:"text-sm"},rt=S({__name:"Writing",async setup(l){let u,h;const n=g([]),c=g(""),m=g(!1),{locale:p}=z(),{data:f}=([u,h]=D(async()=>W("articles-"+p.value,async()=>{const t="articles_"+p.value;return await E(t).all()},{watch:[p]})),u=await u,h(),u);if(!f.value)throw M({statusCode:404,statusMessage:"Page not found"});const x=v(()=>Array.from(new Set(f.value?.flatMap(t=>t.tags)))),w=v(()=>f.value?.filter(t=>(n.value.length===0||n.value.some(r=>t.tags.includes(r)))&&(c.value===""||t.title.toLowerCase().includes(c.value.toLowerCase())))??[]),q=t=>{n.value=n.value.includes(t)?n.value.filter(r=>r!==t):[...n.value,t]};return(t,r)=>{const B=j,L=I,N=H;return o(),i("section",Q,[s("h1",X,[k(t.$slots,"title",{mdcUnwrap:"p"})]),s("h2",Y,[k(t.$slots,"subtitle",{mdcUnwrap:"p"})]),_(B,{class:"mb-8 mt-2"}),s("div",{class:b(a(m)?"":"mb-3")},[s("span",{class:"font-newsreader italic text-white-shadow cursor-pointer select-none text-lg",onClick:r[0]||(r[0]=e=>m.value=!a(m))},d(a(m)?t.$t("writing.hide_search"):t.$t("writing.show_search")),1)],2),a(m)?(o(),i("div",Z,[s("div",tt,[_(L,{modelValue:a(c),"onUpdate:modelValue":r[1]||(r[1]=e=>O(c)?c.value=e:null),class:"w-full sm:w-96",placeholder:t.$t("writing.search_article")},null,8,["modelValue","placeholder"])]),a(x).length>0?(o(),i("div",et,[(o(!0),i($,null,C(a(x),e=>(o(),i("div",{key:e,class:b(["hover:text-shadow-md flex cursor-pointer select-none items-center rounded-md bg-neutral-800 px-2 py-1 text-xs transition-colors duration-100 text-shadow-sm hover:bg-neutral-700 sm:text-sm",{"bg-zinc-700":a(n).includes(e)}]),onClick:it=>q(e)},[s("div",at,d(e),1)],10,st))),128))])):y("",!0)])):y("",!0),a(w).length?(o(),A(P,{key:1,name:"list",tag:"ul",class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},{default:V(()=>[(o(!0),i($,null,C(a(w),e=>(o(),i("li",{key:e.path},[_(N,{title:e.title,date:e.date,image:e.image,path:e.path},null,8,["title","date","image","path"])]))),128))]),_:1})):(o(),i("div",ot,[s("span",nt,d(t.$t("writing.not_found")),1),s("span",lt,d(t.$t("writing.not_found_description")),1)]))])}}}),vt=Object.assign(rt,{__name:"Writing"});export{vt as default};
